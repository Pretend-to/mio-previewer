<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mermaid ç¼©æ”¾æ‹–åŠ¨æµ‹è¯•</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.6;
    }
    
    h1 {
      color: #333;
      border-bottom: 2px solid #4d94ff;
      padding-bottom: 10px;
    }
    
    .info {
      background: #f0f7ff;
      border-left: 4px solid #4d94ff;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
    }
    
    .info h3 {
      margin-top: 0;
      color: #2d5a9f;
    }
    
    .info ul {
      margin: 10px 0;
      padding-left: 20px;
    }
    
    .info li {
      margin: 5px 0;
    }
    
    #app {
      margin-top: 30px;
    }
    
    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 10px 20px;
      background: #4d94ff;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      transition: background 0.3s;
    }
    
    .theme-toggle:hover {
      background: #3d84ef;
    }
    
    /* æš—è‰²ä¸»é¢˜ */
    .theme-dark body {
      background: #1e1e1e;
      color: #e0e0e0;
    }
    
    .theme-dark h1 {
      color: #e0e0e0;
      border-bottom-color: #4d94ff;
    }
    
    .theme-dark .info {
      background: #2d3748;
      border-left-color: #4d94ff;
    }
    
    .theme-dark .info h3 {
      color: #6b9aff;
    }
  </style>
</head>
<body>
  <button class="theme-toggle" onclick="toggleTheme()">åˆ‡æ¢ä¸»é¢˜</button>
  
  <h1>ğŸ¨ Mermaid å›¾è¡¨äº¤äº’åŠŸèƒ½æµ‹è¯•</h1>
  
  <div class="info">
    <h3>âœ¨ æ–°å¢åŠŸèƒ½</h3>
    <ul>
      <li><strong>æ»šè½®ç¼©æ”¾ï¼š</strong>åœ¨å›¾è¡¨ä¸Šæ»šåŠ¨é¼ æ ‡æ»šè½®å¯ä»¥æ”¾å¤§/ç¼©å°å›¾è¡¨ï¼ˆ0.1x - 5xï¼‰</li>
      <li><strong>æ‹–åŠ¨ç§»åŠ¨ï¼š</strong>ç‚¹å‡»å¹¶æ‹–åŠ¨å›¾è¡¨å¯ä»¥ç§»åŠ¨æŸ¥çœ‹ä½ç½®</li>
      <li><strong>é‡ç½®ç¼©æ”¾ï¼š</strong>ç‚¹å‡»å³ä¸Šè§’çš„ âŠ• æŒ‰é’®é‡ç½®ä¸ºåˆå§‹çŠ¶æ€</li>
      <li><strong>å…¨å±é¢„è§ˆï¼š</strong>ç‚¹å‡»å³ä¸Šè§’çš„ â›¶ æŒ‰é’®è¿›å…¥/é€€å‡ºå…¨å±æ¨¡å¼</li>
      <li><strong>ç¼©æ”¾æŒ‡ç¤ºå™¨ï¼š</strong>å®æ—¶æ˜¾ç¤ºå½“å‰ç¼©æ”¾æ¯”ä¾‹</li>
    </ul>
  </div>

  <div id="app"></div>

  <script type="module">
    import { createApp, ref } from 'https://unpkg.com/vue@3/dist/vue.esm-browser.js'
    import MdRenderer from './src/MdRenderer.vue'

    const markdownContent = `
# Mermaid å›¾è¡¨äº¤äº’æµ‹è¯•

ä»¥ä¸‹æ˜¯ä¸€ä¸ªå¤æ‚çš„æµç¨‹å›¾ç¤ºä¾‹ï¼Œå±•ç¤ºäº†æ–°å¢çš„ç¼©æ”¾å’Œæ‹–åŠ¨åŠŸèƒ½ï¼š

\`\`\`mermaid
graph TB
    A[å¼€å§‹] --> B{æ˜¯å¦éœ€è¦ç¼©æ”¾?}
    B -->|æ˜¯| C[ä½¿ç”¨é¼ æ ‡æ»šè½®]
    B -->|å¦| D{æ˜¯å¦éœ€è¦ç§»åŠ¨?}
    C --> E[æ”¾å¤§æŸ¥çœ‹ç»†èŠ‚]
    C --> F[ç¼©å°æŸ¥çœ‹å…¨å±€]
    D -->|æ˜¯| G[ç‚¹å‡»å¹¶æ‹–åŠ¨å›¾è¡¨]
    D -->|å¦| H[ç‚¹å‡»å…¨å±æŒ‰é’®]
    E --> I[ç»§ç»­æ“ä½œ]
    F --> I
    G --> I
    H --> J[å…¨å±æŸ¥çœ‹]
    J --> K[æŒ‰ESCé€€å‡ºå…¨å±]
    K --> L[ç‚¹å‡»é‡ç½®æŒ‰é’®]
    L --> M[æ¢å¤åˆå§‹çŠ¶æ€]
    M --> N[ç»“æŸ]
    I --> B
    
    style A fill:#e1f5e1
    style N fill:#ffe1e1
    style H fill:#e1e5ff
    style J fill:#e1e5ff
\`\`\`

## æ—¶åºå›¾ç¤ºä¾‹

\`\`\`mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant M as Mermaidç»„ä»¶
    participant B as æµè§ˆå™¨
    
    U->>M: æ»šåŠ¨é¼ æ ‡æ»šè½®
    M->>M: è®¡ç®—ç¼©æ”¾æ¯”ä¾‹
    M->>B: æ›´æ–° transform
    B-->>U: æ˜¾ç¤ºç¼©æ”¾æ•ˆæœ
    
    U->>M: æ‹–åŠ¨å›¾è¡¨
    M->>M: è®¡ç®—ä½ç§»
    M->>B: æ›´æ–° translate
    B-->>U: æ˜¾ç¤ºç§»åŠ¨æ•ˆæœ
    
    U->>M: ç‚¹å‡»å…¨å±æŒ‰é’®
    M->>B: è¯·æ±‚å…¨å±
    B-->>U: è¿›å…¥å…¨å±æ¨¡å¼
    
    U->>M: ç‚¹å‡»é‡ç½®æŒ‰é’®
    M->>M: é‡ç½® scale å’Œ translate
    M->>B: æ›´æ–° transform
    B-->>U: æ¢å¤åˆå§‹çŠ¶æ€
\`\`\`

## ç±»å›¾ç¤ºä¾‹

\`\`\`mermaid
classDiagram
    class MermaidDiagram {
        +scale: number
        +translateX: number
        +translateY: number
        +isDragging: boolean
        +isFullscreen: boolean
        +handleWheel(e)
        +handleMouseDown(e)
        +handleMouseMove(e)
        +resetZoom()
        +toggleFullscreen()
    }
    
    class ZoomController {
        +minScale: number
        +maxScale: number
        +zoomIn()
        +zoomOut()
        +setScale(scale)
    }
    
    class DragController {
        +startX: number
        +startY: number
        +startDrag(e)
        +drag(e)
        +endDrag()
    }
    
    MermaidDiagram --> ZoomController
    MermaidDiagram --> DragController
\`\`\`
`

    const app = createApp({
      components: { MdRenderer },
      setup() {
        const markdown = ref(markdownContent)
        return { markdown }
      },
      template: '<MdRenderer :md="markdown" />'
    })

    app.mount('#app')
  </script>

  <script>
    function toggleTheme() {
      document.documentElement.classList.toggle('theme-dark')
      document.body.classList.toggle('theme-dark')
    }
  </script>
</body>
</html>
